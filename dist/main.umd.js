(function(n,s){typeof exports=="object"&&typeof module!="undefined"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(n=typeof globalThis!="undefined"?globalThis:n||self,s(n.__LAKE__={}))})(this,function(n){"use strict";function s(e,t){if(!e)throw new Error(t)}const d=(e,t)=>Array.from((t!=null?t:document).querySelectorAll(e)),c=new Map,f=new WeakMap;function m(e,t){f.set(e,t)}function h(e){return e}function p(e,t){s(!c.has(e),`${e} was already registered`),c.set(e,t)}function w(e,t,u){if(c.has(u)===!1)return;const o=c.get(u);m(e,o),o.setup(e,t)}function E(e){return e.filter(t=>f.has(t)).forEach(t=>f.get(t).cleanup())}let T;function a(){throw new Error("Function called outside component initialization")}function _(e){a().$$.on_destroy.push(e)}function $(e){return a().$$.context.get(e)}Promise.resolve();function g(e,t){const u=(r,i)=>{switch(r.length){case 0:throw new Error(`data-ref="${i}" does not exist`);case 1:return r[0];default:return r}},o=r=>{const i=d(`[data-ref="${r}"]`,t);return u(i,r)};return[...e].reduce((r,i)=>(r[i]=o(i),r),{})}function M(e){const t=new WeakMap,u={};return{setup(o,l){const r=new Map;r.set("$",{rootRef:o,useDOMRef:(...v)=>({refs:g(new Set(v),o)})});const i=new e({target:o,props:l,context:r});t.set(u,i)},cleanup(){var o;(o=t.get(u))==null||o.$destroy()}}}function C(){return $("$")}function O(e,t,u,o){e.addEventListener(t,u,o),_(()=>{e.removeEventListener(t,u,o)})}n.assert=s,n.defineComponent=h,n.getContext$=C,n.mountComponent=w,n.q=d,n.registerComponent=p,n.unmount=E,n.useEvent=O,n.withSvelte=M,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
