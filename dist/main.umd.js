var F=Object.defineProperty;var l=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var _=(t,o,u)=>o in t?F(t,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[o]=u,$=(t,o)=>{for(var u in o||(o={}))w.call(o,u)&&_(t,u,o[u]);if(l)for(var u of l(o))C.call(o,u)&&_(t,u,o[u]);return t};var M=(t,o)=>{var u={};for(var s in t)w.call(t,s)&&o.indexOf(s)<0&&(u[s]=t[s]);if(t!=null&&l)for(var s of l(t))o.indexOf(s)<0&&C.call(t,s)&&(u[s]=t[s]);return u};(function(t,o){typeof exports=="object"&&typeof module!="undefined"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(t=typeof globalThis!="undefined"?globalThis:t||self,o(t.__LAKE__={}))})(this,function(t){"use strict";function o(n,e){if(!n)throw new Error(e)}const u=(n,e)=>Array.from((e!=null?e:document).querySelectorAll(n)),s=n=>typeof n=="function",m=new WeakMap;function R(n,e){m.set(n,e)}function v(n={}){return Object.entries(n).reduce((e,[c,i])=>(e[c]=E(i),e),{})}class S{constructor(e){this._cleanup=e}unmount(){return s(this._cleanup)&&this._cleanup()}}function E(n){const{components:e}=n;return e&&v(e),a=>{var r=a,{el:c}=r,i=M(r,["el"]);const f=n.setup(c,i);R(c,new S(f))}}const d=new Map;function g(n){return n}function p(n,e){return o(!d.has(n),`${n} was already registered`),d.set(n,E(e)),d}function y(n){return o(d.has(n),`${n} does not registered`),d.delete(n),d}function A(n,e={},c){const i=d.get(c);return i&&i($({el:n},e))}function N(n){return n.filter(e=>m.has(e)).map(e=>(m.get(e).unmount(),e))}let q;function h(){throw new Error("Function called outside component initialization")}function O(n){h().$$.on_destroy.push(n)}function P(n){return h().$$.context.get(n)}Promise.resolve();function b(n,e){const c=r=>{const f=u(`[data-ref="${r}"]`,e);return i(f,r)},i=(r,f)=>{switch(r.length){case 0:throw new Error(`data-ref="${f}" does not exist`);case 1:return r[0];default:return r}};return[...n].reduce((r,f)=>(r[f]=c(f),r),{})}function D(n){return{setup(e,c){const i=new Map;i.set("$",{rootRef:e,useDOMRef:(...r)=>({refs:b(new Set(r),e)})});const a=new n({target:e,props:c,context:i});return()=>{a.$destroy()}}}}function L(){return P("$")}function j(n,e,c,i){const a=Array.isArray(n);a?n.forEach(r=>r.addEventListener(e,c,i)):n.addEventListener(e,c,i),O(()=>{a?n.forEach(r=>r.removeEventListener(e,c,i)):n.removeEventListener(e,c,i)})}t.assert=o,t.defineComponent=g,t.getContext$=L,t.isFunction=s,t.mount=A,t.q=u,t.register=p,t.unmount=N,t.unregister=y,t.useEvent=j,t.withSvelte=D,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
