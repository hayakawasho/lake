var z=Object.defineProperty;var B=(e,r,u)=>r in e?z(e,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[r]=u;var a=(e,r,u)=>(B(e,typeof r!="symbol"?r+"":r,u),u),b=(e,r,u)=>{if(!r.has(e))throw TypeError("Cannot "+u)};var h=(e,r,u)=>(b(e,r,"read from private field"),u?u.call(e):r.get(e)),N=(e,r,u)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,u)},U=(e,r,u,v)=>(b(e,r,"write to private field"),v?v.call(e,u):r.set(e,u),u);(function(e,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.__LAKE__={}))})(this,function(e){var m,p,k,K,f;"use strict";class r{constructor(n){N(this,m,void 0);U(this,m,n)}get value(){return h(this,m)}set value(n){U(this,m,n)}}m=new WeakMap;const u=t=>new r(t);class v{constructor(n){N(this,p,void 0);U(this,p,n)}get value(){return h(this,p).value}}p=new WeakMap;const A=t=>new v(t);function T(t,n){if(!t)throw new Error(n||"unexpected condition")}var l=(t=>(t.MOUNTED="Mounted",t.UNMOUNTED="Unmounted",t))(l||{});const y=t=>n=>{C(t)[t].push(n)},S=y("Mounted"),M=y("Unmounted");let w;const D=t=>w=t,C=t=>(T(w,`"${t}" called outside setup() will never be run.`),w);let _=0;class ${constructor(n,o){a(this,k,[]);a(this,K,[]);a(this,"parent",null);N(this,f,[]);a(this,"uid");a(this,"current",{});a(this,"onMount",()=>{const n=this[l.MOUNTED].map(o=>o()).filter(o=>typeof o=="function");this[l.UNMOUNTED].push(...n)});a(this,"onUnmount",()=>{[...this[l.UNMOUNTED],...h(this,f).flatMap(o=>o.onUnmount)].forEach(o=>o())});a(this,"addChild",n=>{h(this,f).push(n),n.parent=this,n.onMount()});a(this,"removeChild",n=>{const o=h(this,f).indexOf(n);o!==-1&&(h(this,f).splice(o,1),n.parent=null,n.onUnmount())});this.element=n,this.uid=`${o}.${_++}`}}k=l.MOUNTED,K=l.UNMOUNTED,f=new WeakMap;const O=t=>{const n=w;return(o,s)=>{const i=new $(o,t.name),c=D(i),d=t.setup(o,s);return c.current=d||{},D(n),c}},E=new WeakMap,I=(t,n,o)=>{if(E.has(t)){const s={payload:{el:t,component:n,name:o},reason:""};throw new Error(JSON.stringify(s))}try{E.set(t,n)}catch{const i={payload:{el:t,component:n,name:o},reason:""};throw new Error(JSON.stringify(i))}},x=()=>({component(t){return(n,o={})=>{const s=O(t)(n,o);return I(n,s,t.name),s.onMount(),s}},unmount(t){t.filter(n=>E.has(n)).forEach(n=>E.get(n).onUnmount())}}),R=t=>t,W=(t,n,o,s)=>{t.addEventListener(n,o,s),M(()=>{t.removeEventListener(n,o,s)})},g=(t,n)=>Array.from((n??document).querySelectorAll(t));function j(t,n){const o=i=>{const c=g(`[data-ref="${i}"]`,n),{length:d}=c;return d===0?null:{1:c[0]}[d]??c};return[...t].reduce((i,c)=>(i[c]=o(c),i),{})}function q(...t){const n=C("DomRef");return{refs:j(new Set(t),n.element)}}const J=(t,n,o={rootMargin:"0px",threshold:.1})=>{const s=new IntersectionObserver(n,o),i=d=>{Array.isArray(d)?d.forEach(V=>s.observe(V)):s.observe(d)};return S(()=>{i(t)}),M(()=>{s.disconnect()}),{unwatch:d=>{s.unobserve(d)}}},L=()=>{const t=C("Slot");return{addChild(n,o,s={}){const i=c=>{const d=O(o)(c,s);return t.addChild(d),d};return Array.isArray(n)?n.map(c=>i(c)):[i(n)]},removeChild(n){n.forEach(o=>t.removeChild(o))}}};function P(t,n="withSvelte"){return R({name:n,setup(o,s){const i=new Map([["$",{rootRef:o,...s}]]),c=new t({target:o,context:i});M(()=>{c.$destroy()})}})}e.create=x,e.defineComponent=R,e.readonly=A,e.ref=u,e.useDomRef=q,e.useEvent=W,e.useIntersectionWatch=J,e.useMount=S,e.useSlot=L,e.useUnmount=M,e.withSvelte=P,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
