var x=Object.defineProperty;var T=Object.getOwnPropertySymbols;var nn=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable;var R=(t,o,s)=>o in t?x(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,m=(t,o)=>{for(var s in o||(o={}))nn.call(o,s)&&R(t,s,o[s]);if(T)for(var s of T(o))en.call(o,s)&&R(t,s,o[s]);return t};var h=(t,o,s)=>(R(t,typeof o!="symbol"?o+"":o,s),s),_=(t,o,s)=>{if(!o.has(t))throw TypeError("Cannot "+s)};var U=(t,o,s)=>(_(t,o,"read from private field"),s?s.call(t):o.get(t)),b=(t,o,s)=>{if(o.has(t))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(t):o.set(t,s)},O=(t,o,s,w)=>(_(t,o,"write to private field"),w?w.call(t,s):o.set(t,s),s);(function(t,o){typeof exports=="object"&&typeof module!="undefined"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(t=typeof globalThis!="undefined"?globalThis:t||self,o(t.__LAKE__={}))})(this,function(t){var a,l,Q,X;"use strict";const o=(n,e)=>Array.from((e!=null?e:document).querySelectorAll(n));class s{constructor(e){b(this,a,void 0);O(this,a,e)}get value(){return U(this,a)}set value(e){O(this,a,e)}}a=new WeakMap;const w=n=>new s(n);class ${constructor(e){b(this,l,void 0);O(this,l,e)}get value(){return U(this,l).value}}l=new WeakMap;const y=n=>new $(n);var N=(n=>(n.MOUNTED="onMounted",n.UNMOUNTED="onUnmounted",n))(N||{});const g=n=>e=>{C(n)[n].push(e)},A=g("onMounted"),M=g("onUnmounted");function v(n,e){if(!n)throw new Error(e||"unexpected condition")}let E=null;const I=n=>E=n,P=()=>E=null,C=n=>(v(E,`"${n}" called outside setup() will never be run.`),E);let j=0;class W{constructor(e,r,u){h(this,Q,[]);h(this,X,[]);h(this,"parent",null);h(this,"uid");h(this,"provides");this.element=r,I(this);const i=e(r,u);P(),this.provides=i||{},this.uid=r.id||j++}mount(){this.onMounted.forEach(e=>e())}unmount(){this.onUnmounted.forEach(e=>e())}addChild(e){this.onMounted.push(...e.onMounted),this.onUnmounted.push(...e.onUnmounted),e.parent=this}}Q=N.MOUNTED,X=N.UNMOUNTED;function D(n){return(e,r)=>{const u=m(m({},n.props),r),i=new W(n.setup,e,u);return n.components&&Object.entries(n.components).forEach(([c,f])=>{o(c,e).forEach(Y=>{const Z=q(Y,f,i);i.addChild(Z)})}),i}}function q(n,e,r){const u=m(m({},e.props),r.provides);return D(e)(n,u)}const d=new Map,p=new WeakMap,L=(n,e,r)=>{p.has(n)&&console.warn(`The DOM of ${r} was already bind.`),p.set(n,e)},S=n=>n;function k(n,e){return v(!d.has(n),`${n} was already registered.`),d.set(n,D(e)),d}function G(n){return v(d.has(n),`${n} does not registered.`),d.delete(n),d}function K(n,e,r){v(d.has(r),`${r} was never registered.`);const u=d.get(r)(n,e);L(n,u,r),u.mount()}function V(n,e){o(n,e).filter(r=>p.has(r)).forEach(r=>p.get(r).unmount())}const z=(n,e,r)=>{n.addEventListener(e,r),M(()=>{n.removeEventListener(e,r)})};function B(n,e){const r=c=>{const f=o(`[data-ref="${c}"]`,e);return u(f,c)},u=(c,f)=>{switch(c.length){case 0:return console.warn(`[data-ref="${f}"] does not exist.`),null;case 1:return c[0];default:return c}};return[...n].reduce((c,f)=>(c[f]=r(f),c),{})}function F(...n){const e=C("domRef");return{refs:B(new Set(n),e.element)}}const H=(n,e,r={rootMargin:"0px",threshold:.1})=>{const u=new IntersectionObserver(e,r);return Array.isArray(n)?n.forEach(c=>u.observe(c)):u.observe(n),M(()=>{u.disconnect()}),{unwatch:c=>{u.unobserve(c)}}};function J(n){return S({setup(e,r){const u=new Map([["$",{rootRef:e}]]),i=new n({target:e,props:r,context:u});M(()=>{i.$destroy()})}})}t.defineComponent=S,t.mount=K,t.onMounted=A,t.onUnmounted=M,t.q=o,t.readonly=y,t.ref=w,t.register=k,t.unmount=V,t.unregister=G,t.useDOMRef=F,t.useEvent=z,t.useIntersectionWatch=H,t.withSvelte=J,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
